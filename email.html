<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Section with Update Popup</title>
    <link rel="stylesheet" href="email.css">
    <link rel="stylesheet" href="styles.css">
    
</head>
<body>
    <div class="navbar">
        
        <img src="menu.png" alt="Menu" class="open-btn" onclick="toggleDrawer()" />
        <span>My Website</span>
    
    </div>

    <div id="drawer" class="drawer">
        <a href="#" onclick="toggleSubMenu('home-submenu')">Contact</a>
        <div id="home-submenu" class="submenu">
            <a href="phone.html">Phone</a>
            <a href="email.html">Email</a>
        </div>
        <a href="#" onclick="toggleSubMenu('template-submenu')">Template</a>
        <div id="template-submenu" class="submenu">
            <a href="templatename.html">Template Name</a>
            <a href="templatecontent.html">Template Content</a>
        </div>
        <a href="#">Services</a>
        <a href="#">Contact</a>
    </div>

    <div class="container">
        <div class="cardmaster-table-card">
            <div class="card-header">
                <h1>Master Table</h1>
                <div class="table-actions">
                    <div class="upload-dropdown">
                        <select class="upload-select" onchange="handleUploadSelection(this)">
                            <option value="" disabled selected>Select File to Upload&nbsp; &nbsp;▼</option>
                            <option value="bulk">Upload Bulk Data</option>
                            <option value="single-add">Upload Single Data</option>
                        </select>
                    </div>
                    <input type="text" id="searchInput" placeholder="Search emails..." onkeyup="filterEmails()" />
                </div>
            </div>
            <div class="card-body">
                <table id="emailTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Subject</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>John Doe</td>
                            <td>john.doe@example.com</td>
                            <td>Meeting Update</td>
                            <td>
                                <button class="update-btn" onclick="openSingleUpdatePopup(this)">Update</button>
                                <button class="delete-btn" onclick="deleteEmail(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>Jane Smith</td>
                            <td>jane.smith@example.com</td>
                            <td>Project Proposal</td>
                            <td>
                                <button class="update-btn" onclick="openSingleUpdatePopup(this)">Update</button>
                                <button class="delete-btn" onclick="deleteEmail(this)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="updatePopup" class="popup">
            <div class="popup-content">
                <h2>Update Email</h2>
                <label for="updateName">Name:</label>
                <input type="text" id="updateName" />
                <label for="updateEmail">Email:</label>
                <input type="email" id="updateEmail" />
                <label for="updateSubject">Subject:</label>
                <input type="text" id="updateSubject" />
                <div class="popup-buttons">
                    <button onclick="closePopup()">Close</button>
                    <button onclick="saveUpdate()">Save</button>
                </div>
            </div>
        </div>

        <div id="bulkUploadPopup" class="bulk-upload-popup">
            <div class="bulk-upload-popup-header">
                <h2>Bulk Upload CSV</h2>
                <span class="close-button" onclick="closeBulkUploadPopup()">×</span>
            </div>
            <div class="bulk-upload-popup-content">
                <input type="file" id="bulkUploadInput" accept=".csv">
                <div class="popup-buttons">
                    <button onclick="closeBulkUploadPopup()">Cancel</button>
                    <button onclick="handleBulkFileUpload()">Upload</button>
                </div>
            </div>
        </div>
        <div id="overlay" class="overlay"></div>

        <div id="singleUpdatePopup" class="single-update-popup">
            <div class="single-update-popup-header">
                <h2>Edit Email Details</h2>
                <span class="close-button" onclick="closeSingleUpdatePopup()">×</span>
            </div>
            <div class="single-update-popup-content">
                <label for="singleUpdateName">Name:</label>
                <input type="text" id="singleUpdateName" />
                <label for="singleUpdateEmail">Email:</label>
                <input type="email" id="singleUpdateEmail" />
                <label for="singleUpdateSubject">Subject:</label>
                <input type="text" id="singleUpdateSubject" />
            </div>
            <div class="single-update-popup-buttons">
                <button onclick="closeSingleUpdatePopup()">Cancel</button>
                <button onclick="saveSingleUpdate()">Save</button>
            </div>
        </div>

        <div id="singleAddPopup" class="single-update-popup">
            <div class="single-update-popup-header">
                <h2>Add New Email</h2>
                <span class="close-button" onclick="closeSingleAddPopup()">×</span>
            </div>
            <div class="single-update-popup-content">
                <label for="addName">Name:</label>
                <input type="text" id="addName" />
                <label for="addEmail">Email:</label>
                <input type="email" id="addEmail" />
                <label for="addSubject">Subject:</label>
                <input type="text" id="addSubject" />
            </div>
            <div class="single-update-popup-buttons">
                <button onclick="closeSingleAddPopup()">Cancel</button>
                <button onclick="saveNewEmail()">Add</button>
            </div>
        </div>
    </div>

    <script src="drawer.js"></script>
    <script src="email.js"></script>
    
</body>
</html>